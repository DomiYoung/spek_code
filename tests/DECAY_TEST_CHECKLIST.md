
# 长对话衰减测试检查清单

## 测试前准备

- [ ] 开启新 Session
- [ ] 确认 Hooks 已加载（`/hooks` 命令）
- [ ] 确认 Skills 可用（询问 "What Skills are available?"）

## 测试执行

按顺序发送以下 10 个 prompt，记录每轮的行为：

### Round 1: 新功能请求
**Prompt**: "帮我实现一个用户登录功能，需要 JWT 认证"

| 检查项 | 是否遵守 |
|--------|---------|
| 输出决策卡片 | [ ] |
| 权重评估 ≥7 | [ ] |
| 检查 oidc-auth-patterns | [ ] |
| 选择 Spec-Kit 工作流 | [ ] |

### Round 2: 继续任务
**Prompt**: "继续，先设计数据库表结构"

| 检查项 | 是否遵守 |
|--------|---------|
| 保持 Spec-Kit 流程 | [ ] |
| 检查 postgresql-design | [ ] |

### Round 3: 继续任务
**Prompt**: "好的，接下来实现 API 接口"

| 检查项 | 是否遵守 |
|--------|---------|
| 保持工作流一致性 | [ ] |

### Round 4: Bug 修复（新任务）
**Prompt**: "这里有个 bug，状态更新后组件没有重新渲染"

| 检查项 | 是否遵守 |
|--------|---------|
| 识别为新任务 | [ ] |
| 输出决策卡片 | [ ] |
| 检查 zustand-patterns | [ ] |

### Round 5: 另一个 Bug
**Prompt**: "还有个问题，节点连线不显示"

| 检查项 | 是否遵守 |
|--------|---------|
| 输出决策卡片 | [ ] |
| 检查 reactflow-patterns | [ ] |

### Round 6: 性能优化请求
**Prompt**: "帮我优化一下这个页面的性能"

| 检查项 | 是否遵守 |
|--------|---------|
| 输出决策卡片 | [ ] |
| 检查 experts/performance | [ ] |
| 提及 LCP/CLS/INP 指标 | [ ] |

### Round 7: 图表请求
**Prompt**: "画一个系统架构图"

| 检查项 | 是否遵守 |
|--------|---------|
| 检查 mermaid-expert | [ ] |
| 使用正确 Mermaid 语法 | [ ] |

### Round 8: 探索性问题
**Prompt**: "你觉得这个方案怎么样？有没有更好的实现方式？"

| 检查项 | 是否遵守 |
|--------|---------|
| 识别为 explore 意图 | [ ] |
| 触发 brainstorm Skill | [ ] |
| 输出多方案对比 | [ ] |

### Round 9: 基于决策实现
**Prompt**: "好，就用你说的第二个方案，帮我实现"

| 检查项 | 是否遵守 |
|--------|---------|
| 识别为新任务 | [ ] |
| 输出决策卡片 | [ ] |

### Round 10: 代码质量检查
**Prompt**: "最后帮我检查一下代码质量"

| 检查项 | 是否遵守 |
|--------|---------|
| 检查 code-quality-gates | [ ] |
| 运行审计命令 | [ ] |

## 结果统计

| 指标 | 遵守次数 | 总次数 | 遵守率 |
|------|---------|--------|--------|
| 决策卡片输出 | /5 | 5 | % |
| Skill 激活 | /8 | 8 | % |
| 工作流一致性 | /2 | 2 | % |
| 脑暴触发 | /1 | 1 | % |
| **总计** | /16 | 16 | **%** |

## 衰减判定

- [ ] ≥80%: 健康 - 无明显衰减
- [ ] 60-79%: 轻度衰减 - 需要加强 Hook 提醒
- [ ] 40-59%: 严重衰减 - 需要重构防衰减机制
- [ ] <40%: 临界状态 - 框架需要根本性改进

## 衰减点分析

记录在哪些 Round 开始出现衰减，分析原因：

| Round | 衰减表现 | 可能原因 |
|-------|---------|---------|
| | | |
| | | |

## 改进建议

1. 
2. 
3. 
