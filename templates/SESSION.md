# SESSION.md - 跨工具统一状态

> **核心原则**：这是当前会话的唯一真相源。所有工具都应读取和更新此文件。

---

## ⚖️ 权重评估（每个任务必填）

```
┌─ 权重评估 ────────────────────────────────────┐
│ □ 新功能/重构/Breaking Change?    → +10      │
│ □ >5 文件 或 >200 行?             → +8       │
│ □ API/架构/Schema 变更?           → +7       │
│ □ 3-5 文件功能变更?               → +5       │
│ □ 简单 Bug (<3 文件)?             → +2       │
│ □ 纯样式/文档?                    → +1       │
│ □ 代码分析/理解（非实现）?        → +0       │
│───────────────────────────────────────────────│
│ 总权重: __                                    │
│ → Spec-Kit: [是(≥7)/否]                      │
│ → Task Master: [是(>3步)/否]                 │
│ → 专家路由: [专家名/无] → expert-router     │
│ → 模式: [--think/--research/默认]            │
└───────────────────────────────────────────────┘
```

---

## 📍 当前状态

**任务**: [当前正在执行的任务描述]
**阶段**: [ ] 分析 → [ ] 设计 → [ ] 实现 → [ ] 验证
**进度**: 0%

---

## 🎯 目标锚点

**需求来源**: [spec.md / 用户请求 / Issue#]
**成功标准**:
- [ ] 标准 1
- [ ] 标准 2
- [ ] 标准 3

---

## 📋 执行计划

### 当前步骤
- [ ] 步骤描述

### 已完成
- [x] 已完成步骤（时间戳）

### 待办
- [ ] 下一步骤

---

## 🧠 上下文记忆

### 关键决策
| 决策 | 理由 | 时间 |
|------|------|------|
| | | |

### 待解决问题
- [ ] 问题描述

### 发现的模式
- 模式描述 → 考虑沉淀到 pitfalls.md

---

## 🔄 状态更新日志

```
[时间戳] 状态变更描述
```

---

## 📌 会话结束检查

**完成前必须**:
- [ ] 更新进度百分比
- [ ] 记录关键决策
- [ ] 沉淀经验到 pitfalls.md（如有）
- [ ] 清理临时状态

**下次启动时**:
1. 读取此文件恢复上下文
2. 检查"当前步骤"继续执行
3. 验证"目标锚点"未偏离
