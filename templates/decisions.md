# Architecture Decision Records (ADR)

> **架构决策记录** | KI 知识自进化系统组件

---

## 📋 决策索引

| ID | 决策 | 日期 | 状态 |
|----|------|------|------|
| ADR-001 | | | 已采纳 |

---

## ADR 模板

```markdown
## ADR-XXX: [决策标题]

### 日期
YYYY-MM-DD

### 状态
提议 / 已采纳 / 已废弃 / 已替代

### 背景
[描述问题背景和约束条件]

### 决策
[描述做出的决策]

### 备选方案

| 方案 | 优点 | 缺点 |
|------|------|------|
| 方案 A | | |
| 方案 B | | |
| **方案 C (选定)** | | |

### 理由
[解释为什么选择这个方案]

### 影响
- **正面影响**:
- **负面影响**:
- **风险**:

### 相关决策
- ADR-XXX: [相关决策]

### 评审者
- @xxx
```

---

## 决策记录

<!-- 按时间倒序排列 -->

### ADR-001: [示例 - 状态管理选择 Redux Toolkit]

#### 日期
2025-12-29

#### 状态
已采纳

#### 背景
项目需要一个可扩展的状态管理方案，支持：
1. 复杂的异步操作
2. 数据缓存和失效策略
3. TypeScript 类型推断

#### 决策
采用 Redux Toolkit + RTK Query 作为状态管理方案

#### 备选方案

| 方案 | 优点 | 缺点 |
|------|------|------|
| MobX | 简洁、响应式 | 隐式依赖追踪 |
| Zustand | 轻量、简单 | 生态较小 |
| **Redux Toolkit** | 成熟、TypeScript 友好 | 学习曲线 |

#### 理由
1. Redux DevTools 提供强大的调试能力
2. RTK Query 内置缓存管理
3. 团队已有 Redux 经验

#### 影响
- **正面**: 统一的数据流、可预测的状态变更
- **负面**: 样板代码较多
- **风险**: 复杂场景下 selector 性能需优化

---

## 🔄 自动触发规则

**何时记录**:
1. 技术选型决策
2. 架构模式选择
3. Breaking Change 决策
4. 重大重构决策

**由 ki-manager skill 自动触发评估**
