---
name: smart-commit
description: |
  Git æ™ºèƒ½æäº¤åŠ©æ‰‹ - è‡ªåŠ¨ç”Ÿæˆ commit messageã€‚
  Use when:
  - git commitã€æäº¤ä»£ç 
  - åˆ†æå˜æ›´ç”Ÿæˆæäº¤ä¿¡æ¯
  - æ¨é€ä»£ç 
  è§¦å‘è¯ï¼šcommitã€æäº¤ã€æ¨é€ã€git addã€push
  Related Skills: code-quality-gates, review-quality-gates, speckit.taskstoissues
allowed-tools: Bash, Read, Grep, Glob
---

# Git æ™ºèƒ½æäº¤ï¼ˆçŸ¥è¯†å›¾è°±ç‰ˆï¼‰

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

1. **å…¨ä¸­æ–‡è¾“å‡º**ï¼šæ ‡é¢˜å’Œæ­£æ–‡å‡ä½¿ç”¨ä¸­æ–‡
2. **çŸ¥è¯†å›¾è°±è§†è§’**ï¼šåˆ†æèŠ‚ç‚¹ã€å…³ç³»ã€å½±å“
3. **ç”¨æˆ·ä»·å€¼å¯¼å‘**ï¼šè¯´æ˜ WHY è€Œé HOW
4. **ç¦æ­¢æ•æ„Ÿè¯**ï¼šç»å¯¹ä¸å‡ºç° AI/agent/claude/bot/GPT ç­‰

## è§¦å‘åœºæ™¯

- ç”¨æˆ·è¯´"æäº¤"ã€"commit"ã€"æ¨é€"
- å®ŒæˆåŠŸèƒ½å¼€å‘åä¿å­˜ä»£ç 
- ä¿®å¤ bug åæäº¤å˜æ›´
- ç”¨æˆ·è¯´"å¸®æˆ‘ç”Ÿæˆ commit message"

## è‡ªåŠ¨åŒ–æµç¨‹

### Step 1: ç¯å¢ƒæ£€æŸ¥

```bash
git status --short
git branch --show-current
git diff --stat
git log --oneline -3  # å‚è€ƒæœ€è¿‘æäº¤é£æ ¼
```

**éªŒè¯**ï¼š
- å½“å‰æ˜¯ feature åˆ†æ”¯ï¼ˆé main/master/testï¼‰
- æœ‰å¾…æäº¤çš„å˜æ›´

### Step 2: å˜æ›´åˆ†æ

**è‡ªåŠ¨æ¨æ–­ Type**ï¼š

| å˜æ›´ç‰¹å¾ | Type | ä¸­æ–‡è¯´æ˜ |
|---------|------|---------|
| æ–°å¢åŠŸèƒ½ä»£ç /ç»„ä»¶ | `feat` | æ–°åŠŸèƒ½ |
| ä¿®å¤å·²çŸ¥é—®é¢˜ | `fix` | ä¿®å¤ |
| ä»£ç é‡ç»„/æ¸…ç† | `refactor` | é‡æ„ |
| æ€§èƒ½ç›¸å…³æ”¹è¿› | `perf` | æ€§èƒ½ä¼˜åŒ– |
| ä»… .md/.txt æ–‡ä»¶ | `docs` | æ–‡æ¡£ |
| é…ç½®/æ„å»º/ä¾èµ– | `chore` | æ„å»º/ä¾èµ– |
| æµ‹è¯•æ–‡ä»¶å˜æ›´ | `test` | æµ‹è¯• |
| æ ·å¼/æ ¼å¼è°ƒæ•´ | `style` | æ ·å¼ |

**è‡ªåŠ¨æ¨æ–­ Scope**ï¼ˆæŒ‰è·¯å¾„ï¼‰ï¼š

| è·¯å¾„æ¨¡å¼ | Scope |
|---------|-------|
| `components/editor/*` | `editor` |
| `components/chat/*` | `chat` |
| `components/app/*` | `app` |
| `components/_shared/*` | `ui` |
| `hooks/*` | `hooks` |
| `utils/*` | `utils` |
| `*Store.ts` | `store` |
| `api/*`, `services/*` | `api` |
| `*.config.*` | `config` |
| `package.json` | `deps` |
| `workflow*` | `workflow` |

### Step 3: çŸ¥è¯†å›¾è°±åˆ†æ

**å¿…é¡»åˆ†æä»¥ä¸‹ç»´åº¦**ï¼š

1. **èŠ‚ç‚¹è¯†åˆ«**ï¼šå˜æ›´æ¶‰åŠå“ªäº›ç»„ä»¶/å‡½æ•°/ç±»å‹
2. **å…³ç³»æè¿°**ï¼šèŠ‚ç‚¹ä¹‹é—´å»ºç«‹æˆ–ä¿®æ”¹äº†ä»€ä¹ˆå…³ç³»
3. **å½±å“èŒƒå›´**ï¼šå¯¹ç³»ç»ŸçŸ¥è¯†å›¾è°±çš„å½±å“

### Step 4: Commit Message ç”Ÿæˆ

#### ğŸ“‹ çŸ¥è¯†å›¾è°±æ ¼å¼ï¼ˆå¼ºåˆ¶ï¼‰

```
<type>(<scope>): <ç”¨æˆ·ä»·å€¼æè¿°ï¼ˆä¸­æ–‡ï¼‰>

æ ¸å¿ƒæ”¹åŠ¨ï¼š<å…³é”®å˜æ›´ç‚¹ï¼Œ1-2å¥è¯>
å½±å“èŒƒå›´ï¼š<æ¶‰åŠæ¨¡å—/ç»„ä»¶>
æŠ€æœ¯èƒŒæ™¯ï¼š<ä¸ºä»€ä¹ˆè¿™æ ·åš>
ç›¸å…³æ–‡ä»¶ï¼š<ä¸»è¦ä¿®æ”¹æ–‡ä»¶ç»Ÿè®¡>
```

#### ğŸ“ æ ¼å¼è§„èŒƒ

| å­—æ®µ | è¦æ±‚ |
|------|------|
| **type** | å°å†™è‹±æ–‡ï¼Œè§ä¸Šè¡¨ |
| **scope** | å°å†™è‹±æ–‡ï¼Œè§ä¸Šè¡¨ |
| **æ ‡é¢˜** | ä¸­æ–‡ï¼Œâ‰¤50 å­—ç¬¦ï¼Œè¯´æ˜ç”¨æˆ·ä»·å€¼ |
| **æ ¸å¿ƒæ”¹åŠ¨** | å…³é”®å˜æ›´ç‚¹ï¼ŒæŠ€æœ¯å±‚é¢ |
| **å½±å“èŒƒå›´** | æ¶‰åŠçš„æ¨¡å—/æ–‡ä»¶/ç»„ä»¶ |
| **æŠ€æœ¯èƒŒæ™¯** | ä¸ºä»€ä¹ˆåšè¿™ä¸ªæ”¹åŠ¨ |
| **ç›¸å…³æ–‡ä»¶** | æ–°å¢ X æ–‡ä»¶ï¼Œä¿®æ”¹ Y æ–‡ä»¶ |

#### ğŸ”´ ç¦æ­¢è¯ï¼ˆç»å¯¹ç¦æ­¢ï¼‰

```
AI, ai, Agent, agent, Claude, claude, Bot, bot, GPT, gpt,
Anthropic, anthropic, Copilot, copilot, Assistant, assistant,
è‡ªåŠ¨ç”Ÿæˆ, Generated, Co-Authored-By, noreply@anthropic.com
```

#### âœ… æ­£ç¡®ç¤ºä¾‹

```bash
git commit -m "$(cat <<'EOF'
feat(ui): æ·»åŠ æµ‹è¯•ç¯å¢ƒæ ‡è¯†ç»„ä»¶ï¼Œå¸®åŠ©ç”¨æˆ·åŒºåˆ†æµ‹è¯•å’Œæ­£å¼ç¯å¢ƒ

æ ¸å¿ƒæ”¹åŠ¨ï¼šåˆ›å»º EnvBadge ç»„ä»¶ï¼Œé€šè¿‡ VITE_APP_BASE_URL æ£€æµ‹ç¯å¢ƒç±»å‹
å½±å“èŒƒå›´ï¼šApp.tsx å…¥å£ + æ–°å¢ env-badge ç»„ä»¶ç›®å½•
æŠ€æœ¯èƒŒæ™¯ï¼šappflowytest å’Œ appflowy ä¸¤ä¸ªéƒ¨ç½²åœ°å€éœ€è¦è§†è§‰åŒºåˆ†
ç›¸å…³æ–‡ä»¶ï¼šæ–°å¢ EnvBadge.tsxï¼Œä¿®æ”¹ App.tsx (2 files)
EOF
)"
```

```bash
git commit -m "$(cat <<'EOF'
fix(editor): ä¿®å¤åˆ·æ–°åå­èŠ‚ç‚¹ä¸¢å¤±é—®é¢˜ï¼Œç¡®ä¿æ•°æ®æŒä¹…åŒ–

æ ¸å¿ƒæ”¹åŠ¨ï¼šåœ¨ refreshNodes å‡½æ•°ä¸­æ·»åŠ å­èŠ‚ç‚¹çŠ¶æ€æ¢å¤é€»è¾‘
å½±å“èŒƒå›´ï¼šIterationNode ç»„ä»¶ + workflowStore
æŠ€æœ¯èƒŒæ™¯ï¼šåˆ·æ–°æ—¶ Yjs åŒæ­¥æœªåŒ…å«å­èŠ‚ç‚¹çŠ¶æ€å¯¼è‡´æ•°æ®ä¸¢å¤±
ç›¸å…³æ–‡ä»¶ï¼šä¿®æ”¹ IterationNode.tsx, workflowStore.ts (2 files)
EOF
)"
```

```bash
git commit -m "$(cat <<'EOF'
style(ui): ä¼˜åŒ–ç¯å¢ƒæ ‡è¯†ä¸ºé¡¶éƒ¨å±…ä¸­æ¨ªå¹…æ ·å¼ï¼Œæå‡å¯è§æ€§

æ ¸å¿ƒæ”¹åŠ¨ï¼šå°†å³ä¸‹è§’èƒ¶å›Šæ”¹ä¸ºé¡¶éƒ¨å±…ä¸­æ¨ªå¹…ï¼Œæ·»åŠ ğŸ”§å›¾æ ‡å’Œ"ç¯å¢ƒ"æ–‡å­—
å½±å“èŒƒå›´ï¼šEnvBadge ç»„ä»¶æ ·å¼
æŠ€æœ¯èƒŒæ™¯ï¼šå³ä¸‹è§’æ ‡è¯†å¤ªå°å®¹æ˜“è¢«å¿½ç•¥ï¼Œé¡¶éƒ¨æ¨ªå¹…æ›´é†’ç›®
ç›¸å…³æ–‡ä»¶ï¼šEnvBadge.tsx (1 file)
EOF
)"
```

#### âŒ é”™è¯¯ç¤ºä¾‹

```bash
# é”™è¯¯ï¼šè‹±æ–‡æ ‡é¢˜
feat(ui): add environment badge component

# é”™è¯¯ï¼šæ²¡æœ‰çŸ¥è¯†å›¾è°±æ ¼å¼
feat(ui): æ·»åŠ ç¯å¢ƒæ ‡è¯†

# é”™è¯¯ï¼šåŒ…å«ç¦æ­¢è¯
feat(ui): æ·»åŠ ç¯å¢ƒæ ‡è¯†

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>

# é”™è¯¯ï¼šè¯´ HOW è€Œä¸æ˜¯ WHY
fix(editor): æ·»åŠ  if åˆ¤æ–­ä¿®å¤ç©ºæŒ‡é’ˆ
```

### Step 5: æ‰§è¡Œæäº¤

```bash
# 1. æš‚å­˜ç›¸å…³æ–‡ä»¶
git add <ç›¸å…³æ–‡ä»¶>

# 2. ä½¿ç”¨ HEREDOC ç¡®ä¿æ ¼å¼æ­£ç¡®
git commit -m "$(cat <<'EOF'
<type>(<scope>): <ä¸­æ–‡ç”¨æˆ·ä»·å€¼æè¿°>

æ ¸å¿ƒæ”¹åŠ¨ï¼š<å…³é”®å˜æ›´ç‚¹>
å½±å“èŒƒå›´ï¼š<æ¶‰åŠæ¨¡å—>
æŠ€æœ¯èƒŒæ™¯ï¼š<ä¸ºä»€ä¹ˆè¿™æ ·åš>
ç›¸å…³æ–‡ä»¶ï¼š<æ–‡ä»¶ç»Ÿè®¡>
EOF
)" --author="YOUR_USERNAME <YOUR_USERNAME@gmail.com>"

# 3. éªŒè¯æäº¤
git log -1 --pretty=full
```

### Step 6: å¯é€‰æ¨é€

ç”¨æˆ·è¯´"æ¨é€"ã€"push"æ—¶ï¼š

```bash
git push origin $(git branch --show-current)
```

## å®‰å…¨æ£€æŸ¥

**æäº¤å‰éªŒè¯**ï¼š
- [ ] æ—  `.env`ã€`credentials` ç­‰æ•æ„Ÿæ–‡ä»¶
- [ ] æ— ç”Ÿäº§ä»£ç ä¸­çš„ `console.log`
- [ ] æ— æœªæ³¨é‡Šçš„ `any` ç±»å‹
- [ ] æ— è¶…å¤§æ–‡ä»¶ï¼ˆ>1MBï¼‰
- [ ] æ— ç¦æ­¢è¯

## è¾“å‡ºæ ¼å¼

```markdown
## âœ… Git æäº¤å®Œæˆ

| Commit | Type | Scope | æè¿° |
|--------|------|-------|------|
| `abc123` | feat | ui | æ·»åŠ ç¯å¢ƒæ ‡è¯†ç»„ä»¶ |

**åˆ†æ”¯**: feature/xxx
**æ¨é€**: âœ… å·²æ¨é€ / â³ å¾…æ¨é€

### Commit Message é¢„è§ˆ
```
<å®Œæ•´çš„ commit message>
```
```

## ä¸å…¶ä»– Skills åä½œ

| Skill | åä½œ |
|-------|------|
| `commit-quality-gates` | æ ¼å¼éªŒè¯ |
| `code-quality-gates` | ä»£ç è´¨é‡æ£€æŸ¥ |
| `workflow-router` | å·¥ä½œæµè·¯ç”± |

## å˜æ›´å¤§å°æ§åˆ¶

| ç»´åº¦ | æ¨è | ä¸Šé™ | è¶…å‡ºå¤„ç† |
|------|-----|-----|---------|
| å•æ¬¡ commit | â‰¤ 100 è¡Œ | â‰¤ 200 è¡Œ | æ‹†åˆ† commit |
| ä¿®æ”¹æ–‡ä»¶æ•° | â‰¤ 5 ä¸ª | â‰¤ 10 ä¸ª | æ‹†åˆ† commit |

## æ™ºèƒ½åˆ†ç»„ç­–ç•¥

**åˆ¤æ–­æ‹†åˆ†ç­–ç•¥**ï¼š

| æ¡ä»¶ | è¡Œä¸º |
|------|------|
| åŒä¸€åŠŸèƒ½åŸŸå˜æ›´ | åˆå¹¶ 1 ä¸ª commit |
| è·¨å¤šä¸ªåŠŸèƒ½åŸŸ | æ‹†åˆ†å¤šä¸ª commit |
| åˆ é™¤ + æ–°å¢ | å…ˆæ¸…ç†åæ–°å¢ |

**åˆ†ç»„ä¼˜å…ˆçº§**ï¼š
1. `refactor`: åˆ é™¤/æ¸…ç†ä»£ç 
2. `refactor`: é‡æ„/ä¼˜åŒ–ä»£ç 
3. `feat`: æ–°å¢åŠŸèƒ½
4. `fix`: ä¿®å¤é—®é¢˜
